<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>S√©lection Coupe du Monde ‚Äì D√©mo</title>
  <style>
    body { font-family: Arial, sans-serif; background:#f4f6f8; padding:20px; }
    h1,h2,h3 { text-align:center; }
    .info,.counter { text-align:center; margin-bottom:10px; }
    .counter { font-weight:bold; }
    .step { display:none; }
    .step.active { display:block; }
    .players-grid {
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
      gap:25px;
      justify-items:center;
    }
    .player-card { text-align:center; cursor:pointer; }
    .player-card.selected { font-weight:bold; }
    .avatar { width:80px; height:80px; margin:0 auto 8px; background:#ddd; border-radius:50%; }
    button { margin:20px auto; display:block; padding:10px 20px; font-size:16px; }
    button:disabled { opacity:.5; cursor:not-allowed; }
    .recap-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:20px; margin-top:20px }
    ul { list-style:none; padding:0 }
  </style>
</head>
<body>

<h1>üìù S√©lection Coupe du Monde</h1>
<div class="info">S√©lection libre de 26 joueurs ‚Äî <strong>3 gardiens obligatoires</strong></div>
<div class="counter" id="counter">Total : 0 / 26 | Gardiens : 0 / 3</div>

<div class="step active" id="step-g">
  <h2>Gardiens</h2>
  <div class="players-grid" id="gardiens"></div>
  <button id="toDef" disabled onclick="nextStep('d')">‚û°Ô∏è D√©fenseurs</button>
</div>

<div class="step" id="step-d">
  <h2>D√©fenseurs</h2>
  <div class="players-grid" id="defenseurs"></div>
  <button onclick="nextStep('m')">‚û°Ô∏è Milieux</button>
</div>

<div class="step" id="step-m">
  <h2>Milieux</h2>
  <div class="players-grid" id="milieux"></div>
  <button onclick="nextStep('a')">‚û°Ô∏è Attaquants</button>
</div>

<div class="step" id="step-a">
  <h2>Attaquants</h2>
  <div class="players-grid" id="attaquants"></div>
  <button onclick="nextStep('r')">üìã Voir le r√©cap</button>
</div>

<div class="step" id="step-r">
  <h2>üìã R√©capitulatif</h2>
  <div class="recap-grid">
    <div><h3>Gardiens</h3><ul id="recap-g"></ul></div>
    <div><h3>D√©fenseurs</h3><ul id="recap-d"></ul></div>
    <div><h3>Milieux</h3><ul id="recap-m"></ul></div>
    <div><h3>Attaquants</h3><ul id="recap-a"></ul></div>
  </div>
</div>

<script>
const MAX_PLAYERS = 26;
const MAX_KEEPERS = 3;

const players = [
  // GARDIENS
  {name:'Mike Maignan', pos:'G', club:'AC Milan'},
  {name:'Lucas Chevalier', pos:'G', club:'Paris SG'},
  {name:'Brice Samba', pos:'G', club:'Stade Rennais FC'},
  {name:'Robin Risser', pos:'G', club:'RC Lens'},
  {name:'Guillaume Restes', pos:'G', club:'Toulouse FC'},
  {name:'Obed Nkambadio', pos:'G', club:'Paris FC'},
  {name:'Alphonse Ar√©ola', pos:'G', club:'West Ham United'},

  // DEFENSEURS
  {name:'William Saliba', pos:'D', club:'Arsenal'},
  {name:'Ibrahima Konat√©', pos:'D', club:'Liverpool'},
  {name:'Dayot Upamecano', pos:'D', club:'Bayern Munich'},
  {name:'Benjamin Pavard', pos:'D', club:'Olympique de Marseille'},
  {name:'Maxence Lacroix', pos:'D', club:'Crystal Palace'},
  {name:'Mohamed Simakan', pos:'D', club:'Al Nassr'},
  {name:'Pierre Kalulu', pos:'D', club:'Juventus'},
  {name:'Castello Lukeba', pos:'D', club:'RB Leipzig'},
  {name:'Jules Kound√©', pos:'D', club:'FC Barcelone'},
  {name:'Leny Yoro', pos:'D', club:'Manchester United'},
  {name:'Wesley Fofana', pos:'D', club:'Chelsea FC'},
  {name:'Lo√Øc Bad√©', pos:'D', club:'Bayer Leverkusen'},
  {name:'Matthieu Udol', pos:'D', club:'RC Lens'},
  {name:'J√©r√©my Jacquet', pos:'D', club:'Stade Rennais FC'},
  {name:'Quentin Merlin', pos:'D', club:'Stade Rennais FC'},
  {name:'Ferland Mendy', pos:'D', club:'Real Madrid'},
  {name:'Lucas Digne', pos:'D', club:'Aston Villa'},
  {name:'Malo Gusto', pos:'D', club:'Chelsea FC'},
  {name:'Sacha Boey', pos:'D', club:'Bayern Munich'},
  {name:'Warren Za√Øre-Emery', pos:'D', club:'Paris SG'},
  {name:'Tylel Tati', pos:'D', club:'FC Nantes'},

  // MILIEUX
  {name:"N'Golo Kant√©", pos:'M', club:'Al Ittihad'},
  {name:'Aur√©lien Tchouam√©ni', pos:'M', club:'Real Madrid'},
  {name:'Boubacar Kamara', pos:'M', club:'Aston Villa'},
  {name:'Eduardo Camavinga', pos:'M', club:'Real Madrid'},
  {name:'Adrien Rabiot', pos:'M', club:'AC Milan'},
  {name:'Matt√©o Guendouzi', pos:'M', club:'Fenerbah√ße'},
  {name:'Corentin Tolisso', pos:'M', club:'Olympique Lyonnais'},
  {name:'Manu Kon√©', pos:'M', club:'AS Roma'},
  {name:'Benjamin Andr√©', pos:'M', club:'Lille OSC'},
  {name:'Valentin Rongier', pos:'M', club:'Stade Rennais FC'},
  {name:'Adrien Thomasson', pos:'M', club:'RC Lens'},
  {name:'Ayyoub Bouaddi', pos:'M', club:'Lille OSC'},
  {name:'Maxence Caqueret', pos:'M', club:'Como FC'},
  {name:'Lucas Da Cunha', pos:'M', club:'Como FC'},
  {name:'Senny Mayulu', pos:'M', club:'Paris SG'},

  // ATTAQUANTS
  {name:'Kylian Mbapp√©', pos:'A', club:'Real Madrid'},
  {name:'Ousmane Demb√©l√©', pos:'A', club:'Paris SG'},
  {name:'Michael Olise', pos:'A', club:'Bayern Munich'},
  {name:'Antoine Griezmann', pos:'A', club:'Atl√©tico Madrid'},
  {name:'Rayan Cherki', pos:'A', club:'Manchester City'},
  {name:'Kingsley Coman', pos:'A', club:'Al Nassr'},
  {name:'Jean-Philippe Mateta', pos:'A', club:'Crystal Palace'},
  {name:'Moussa Diaby', pos:'A', club:'Al Ittihad'},
  {name:'Hugo Ekitik√©', pos:'A', club:'Liverpool FC'},
  {name:'Christopher Nkunku', pos:'A', club:'AC Milan'},
  {name:'Randal Kolo Muani', pos:'A', club:'Tottenham Hotspur'},
  {name:'Franck Honorat', pos:'A', club:'Borussia M√∂nchengladbach'},
  {name:'Armand Laurient√©', pos:'A', club:'Sassuolo'},
  {name:'Florian Thauvin', pos:'A', club:'RC Lens'},
  {name:'Mathys Tel', pos:'A', club:'Tottenham Hotspur'},
  {name:'Georginio Rutter', pos:'A', club:'Brighton'},
  {name:'Robinho Vaz', pos:'A', club:'AS Roma'},
  {name:'Matthis Abline', pos:'A', club:'FC Nantes'},
  {name:'Eli Kroupi JR', pos:'A', club:'AFC Bournemouth'},
  {name:'Jean-Matt√©o Bahoya', pos:'A', club:'Eintracht Francfort'},
  {name:'Yann Gboho', pos:'A', club:'Toulouse FC'},
  {name:'Est√©ban Lepaul', pos:'A', club:'Stade Rennais FC'},
  {name:'D√©sir√© Dou√©', pos:'A', club:'Paris SG'},
  {name:'Bradley Barcola', pos:'A', club:'Paris SG'},
  {name:'Ange-Yoan Bonny', pos:'A', club:'Inter Milan'},
  {name:'Karim Benzema', pos:'A', club:'Al Ittihad'}
];

let team = [];

function countKeepers() {
  return team.filter(p => p.pos === 'G').length;
}

function render(){
  ['G','D','M','A'].forEach(pos => renderGroup(pos, pos==='G'?'gardiens':pos==='D'?'defenseurs':pos==='M'?'milieux':'attaquants'));
  updateCounter();
}

function renderGroup(pos, id){
  const c = document.getElementById(id);
  c.innerHTML = '';
  players.filter(p => p.pos === pos).forEach(p => {
    const card = document.createElement('div');
    card.className = 'player-card' + (team.includes(p) ? ' selected' : '');
    card.innerHTML = `<div class="avatar"></div>${p.name}<br><small>${p.club}</small>`;
    card.onclick = () => togglePlayer(p);
    c.appendChild(card);
  });
}

function togglePlayer(p){
  const sel = team.includes(p);
  if(!sel && team.length >= MAX_PLAYERS) return;
  if(!sel && p.pos === 'G' && countKeepers() >= MAX_KEEPERS) return;
  if(sel && p.pos === 'G' && countKeepers() <= MAX_KEEPERS) return;
  sel ? team = team.filter(x => x !== p) : team.push(p);
  render();
}

function updateCounter(){
  const g = countKeepers();
  document.getElementById('counter').textContent = `Total : ${team.length} / ${MAX_PLAYERS} | Gardiens : ${g} / ${MAX_KEEPERS}`;
  document.getElementById('toDef').disabled = g < MAX_KEEPERS;
}

function nextStep(s){
  if(s !== 'g' && countKeepers() < MAX_KEEPERS) return;
  if(s === 'r' && team.length < MAX_PLAYERS) return;
  document.querySelectorAll('.step').forEach(e => e.classList.remove('active'));
  document.getElementById('step-' + s).classList.add('active');
  if(s === 'r') renderRecap();
}

function renderRecap(){
  const map = {G:'recap-g',D:'recap-d',M:'recap-m',A:'recap-a'};
  Object.entries(map).forEach(([pos,id])=>{
    const ul=document.getElementById(id);
    ul.innerHTML='';
    team.filter(p=>p.pos===pos).forEach(p=>{
      const li=document.createElement('li');
      li.textContent=`${p.name} (${p.club})`;
      ul.appendChild(li);
    });
  });
}

render();
</script>

</body>
</html>
